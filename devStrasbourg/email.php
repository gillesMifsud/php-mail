<?php header('Access-Control-Allow-Origin: *');header('Access-Control-Allow-Headers: X-Requested-With');header('Access-Control-Allow-Methods: POST, GET, OPTIONS');$formData = json_decode(file_get_contents('php://input'));	foreach ($formData as $key=>$value) {		$_POST[$key]=$value;	}$formObject = $_POST['name'];	$name = $formObject->name;	$email = $formObject->email;	$phone = $formObject->phone;	$subject = $formObject->sujet;	$messagePost = $formObject->comment;	$mailDeContact = 'gil.mifsud@gmail.com'; // Déclaration de l'adresse de destination.        if (!preg_match("#^[a-z0-9._-]+@(hotmail|live|msn).[a-z]{2,4}$#", $mailDeContact)) // On filtre les serveurs qui rencontrent des bogues.        {            $passage_ligne = "\r\n";        }        else        {            $passage_ligne = "\n";        }        //=====Déclaration des messages au format texte et au format HTML.        $message_txt = "Coordonnées du contact:";        $message_html = "        <html>            <head>            </head>                <body style='font-family: Arial'>                    <h1>Demande de $name</h1>                    	<p>Email: $email</p>						<p>Téléphone: $phone</p>						<p>Intéressé par: $subject</p>						<p>Message: $messagePost</p>                </body>            </html>";        //==========        //=====Création de la boundary        $boundary = md5(rand());        //==========        //=====Définition du sujet.        $sujet = "Nouvelle demande de contact Dev Strasbourg";        //=========        //=====Création du header de l'e-mail.        $header = "From: \"Dev Strasbourg\"<gil.mifsud@gmail.com>".$passage_ligne;        $header.= "MIME-Version: 1.0".$passage_ligne;        $header.= "Content-Type: multipart/alternative; charset=ISO-8859-1; boundary=\"$boundary\"".$passage_ligne;        //==========        //=====Création du message.        $message = $passage_ligne."--".$boundary.$passage_ligne;        //=====Ajout du message au format HTML        $message.= "Content-Type: text/html; charset=utf-8".$passage_ligne;        $message.= "Content-Transfer-Encoding: 8bit".$passage_ligne;        $message.= $passage_ligne.$message_html.$passage_ligne;        //==========        $message.= $passage_ligne."--".$boundary."--".$passage_ligne;        $message.= $passage_ligne."--".$boundary."--".$passage_ligne;        //==========        //=====Envoi de l'e-mail.        if(mail($mailDeContact,$sujet,$message,$header))        {            echo 'Mail envoyé avec succès';        }        else         {        	echo "Erreur lors de l'envoi du mail";        }        //==========		exit();?>